---
interface Props {
  title?: string;
  regulators?: string[];
}

const {
  title = 'Regulated & Secure',
  regulators = ['Central Bank of Ireland', 'ASIC', 'FSCA', 'FSA Japan']
} = Astro.props;
---

<div class="trust-section">
  <div class="trust-header">
    <div class="trust-shield">
      <svg class="trust-shield__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" fill="url(#shield-gradient)" stroke="currentColor" stroke-width="1.5"/>
        <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <defs>
          <linearGradient id="shield-gradient" x1="12" y1="2" x2="12" y2="22" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="var(--color-success-500)"/>
            <stop offset="100%" stop-color="var(--color-success-700)"/>
          </linearGradient>
        </defs>
      </svg>
    </div>
    {title && <h4 class="trust-section__title">{title}</h4>}
  </div>

  <div class="trust-badges">
    <div class="trust-badge">
      <div class="trust-badge__icon-wrapper">
        <svg class="trust-badge__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
          <path d="M9 12l2 2 4-4"/>
        </svg>
      </div>
      <span class="trust-badge__label">SSL Secured</span>
    </div>

    <div class="trust-badge">
      <div class="trust-badge__icon-wrapper">
        <svg class="trust-badge__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
          <path d="M7 11V7a5 5 0 0110 0v4"/>
        </svg>
      </div>
      <span class="trust-badge__label">Secure Funds</span>
    </div>

    <div class="trust-badge">
      <div class="trust-badge__icon-wrapper">
        <svg class="trust-badge__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <circle cx="12" cy="12" r="10"/>
          <path d="M12 6v6l4 2"/>
        </svg>
      </div>
      <span class="trust-badge__label">Since 2006</span>
    </div>

    <div class="trust-badge">
      <div class="trust-badge__icon-wrapper">
        <svg class="trust-badge__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          <path d="M9 12l2 2 4-4"/>
        </svg>
      </div>
      <span class="trust-badge__label">9 Regulators</span>
    </div>
  </div>

  {regulators.length > 0 && (
    <div class="regulators">
      <p class="regulators__label">Regulated by:</p>
      <p class="regulators__list">{regulators.join(' â€¢ ')}</p>
    </div>
  )}
</div>

<style>
  .trust-section {
    margin: var(--space-10) 0;
    padding: var(--space-8);
    background: linear-gradient(135deg, var(--color-success-50), var(--color-primary-50));
    border: 2px solid var(--color-success-200);
    border-radius: var(--radius-2xl);
    position: relative;
  }

  .trust-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-6);
  }

  .trust-shield {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 80px;
    height: 80px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 4px 20px rgba(34, 197, 94, 0.25);
  }

  .trust-shield__icon {
    width: 48px;
    height: 48px;
    color: var(--color-success-600);
  }

  .trust-section__title {
    text-align: center;
    margin: 0;
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    color: var(--color-text);
  }

  .trust-badges {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-4);
  }

  @media (min-width: 640px) {
    .trust-badges {
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-6);
    }
  }

  .trust-badge {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-4);
    background: white;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-sm);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  }

  .trust-badge:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }

  .trust-badge__icon-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, var(--color-primary-100), var(--color-success-100));
    border-radius: var(--radius-lg);
  }

  .trust-badge__icon {
    width: 28px;
    height: 28px;
    color: var(--color-primary-600);
  }

  .trust-badge__label {
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    color: var(--color-text);
    text-align: center;
  }

  .regulators {
    margin-top: var(--space-6);
    padding-top: var(--space-6);
    border-top: 1px solid var(--color-success-200);
    text-align: center;
  }

  .regulators__label {
    font-size: var(--text-xs);
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: var(--space-2);
  }

  .regulators__list {
    font-size: var(--text-base);
    font-weight: var(--font-medium);
    color: var(--color-text-secondary);
    margin: 0;
  }

  /* Dark mode adjustments */
  @media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) .trust-section {
      background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(59, 130, 246, 0.1));
      border-color: var(--color-success-700);
    }

    :root:not([data-theme="light"]) .trust-shield {
      background: var(--color-neutral-800);
      box-shadow: 0 4px 20px rgba(34, 197, 94, 0.15);
    }

    :root:not([data-theme="light"]) .trust-badge {
      background: var(--color-neutral-800);
    }

    :root:not([data-theme="light"]) .trust-badge__icon-wrapper {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(34, 197, 94, 0.2));
    }

    :root:not([data-theme="light"]) .regulators {
      border-top-color: var(--color-success-800);
    }
  }

  :root[data-theme="dark"] .trust-section {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(59, 130, 246, 0.1));
    border-color: var(--color-success-700);
  }

  :root[data-theme="dark"] .trust-shield {
    background: var(--color-neutral-800);
    box-shadow: 0 4px 20px rgba(34, 197, 94, 0.15);
  }

  :root[data-theme="dark"] .trust-badge {
    background: var(--color-neutral-800);
  }

  :root[data-theme="dark"] .trust-badge__icon-wrapper {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(34, 197, 94, 0.2));
  }

  :root[data-theme="dark"] .regulators {
    border-top-color: var(--color-success-800);
  }
</style>
